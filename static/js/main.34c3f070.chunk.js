(this["webpackJsonpbook-store-v2"]=this["webpackJsonpbook-store-v2"]||[]).push([[0],{252:function(e,t,a){e.exports=a(477)},261:function(e,t){},474:function(e,t,a){},477:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(114),l=a.n(c),o=a(10),i=a.n(o),s=a(9),u=a(13),m=a(7),d=a(498),p=a(496),b=a(497),E=r.a.createContext(),f=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(m.a)(a,2),l=c[0],o=c[1],f=Object(n.useState)([]),g=Object(m.a)(f,2),h=g[0],v=g[1],k=Object(n.useState)(!1),O=Object(m.a)(k,2),y=O[0],j=O[1];Object(n.useEffect)((function(){_()}),[]);var w=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(s.a)({id:Object(b.a)()},t),e.prev=1,e.next=4,d.a.graphql(Object(p.b)("\n  mutation ProcessOrder($input: ProcessOrderInput!) {\n    processOrder(input: $input)\n  }\n",{input:a}));case 4:console.log("Order is successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,d.a.graphql({query:"\n  query ListDoctors(\n    $filter: ModelDoctorFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listDoctors(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        name\n        experience\n        image\n        speciality\n        featured\n        price\n        \n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n",authMode:"AMAZON_COGNITO_USER_POOLS"});case 4:t=e.sent,a=t.data,n=a.listDoctors.items,r=n.filter((function(e){return!!e.featured})),o(n),v(r),j(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(E.Provider,{value:{books:l,featured:h,loading:y,checkout:w}},t)},g=a(31),h=a(60),v=a(47),k=a(43),O=(a(213),{aws_project_region:"ap-south-1",aws_cognito_identity_pool_id:"ap-south-1:3bd33c2b-f041-4d1c-bcc3-a2ba79ff099d",aws_cognito_region:"ap-south-1",aws_user_pools_id:"ap-south-1_xTBWRHJoG",aws_user_pools_web_client_id:"79c3if5jvpkso3dgua844q9muj",oauth:{},aws_cognito_username_attributes:["EMAIL"],aws_cognito_social_providers:[],aws_cognito_signup_attributes:["EMAIL"],aws_cognito_mfa_configuration:"OFF",aws_cognito_mfa_types:["SMS"],aws_cognito_password_protection_settings:{passwordPolicyMinLength:8,passwordPolicyCharacters:[]},aws_cognito_verification_mechanisms:["EMAIL"],aws_user_files_s3_bucket:"bookappointment602eda964ca342f09c9d5272d528eb51155246-dev",aws_user_files_s3_bucket_region:"ap-south-1",aws_appsync_graphqlEndpoint:"https://efhnwge5t5cwlkmv4jaupnywsy.appsync-api.ap-south-1.amazonaws.com/graphql",aws_appsync_region:"ap-south-1",aws_appsync_authenticationType:"AMAZON_COGNITO_USER_POOLS",aws_appsync_apiKey:"da2-6wnohxfyvjesldv5prfjzg6yaa",aws_cloud_logic_custom:[{name:"AdminQueries",endpoint:"https://1nt9dyakh4.execute-api.ap-south-1.amazonaws.com/dev",region:"ap-south-1"}]}),y=function(){return r.a.createElement("section",{className:"hero"},r.a.createElement("h2",null,"Doctors"),r.a.createElement("h3",{style:{backgroundColor:"rgb(113, 84, 83,0.4)",borderRadius:20,margin:20}},"The good life is a process, not a state of being.",r.a.createElement("br",null)," It is a direction not a destination."),r.a.createElement(g.b,{className:"btn",to:"/backend/doctors",style:{borderRadius:5}},"View All Doctors"))},j=function(){var e=Object(n.useContext)(E).featured;return e.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement("section",{className:"featured"},r.a.createElement("header",{className:"featured-head"},r.a.createElement("h3",null,"Featured Doctors")),r.a.createElement("div",{className:"books featured-list"},e.map((function(e){var t=e.id,a=e.image,n=e.title;return r.a.createElement("article",{key:t,className:"book featured-book"},r.a.createElement("div",{className:"book-image"},r.a.createElement("img",{src:a,alt:n})),r.a.createElement(g.b,{to:"/backend/doctors/".concat(t),className:"btn book-link"},"details"))}))))):r.a.createElement("h3",null,"No Featured Doctors")},w=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Oops. Error Page"))},_=function(){var e=Object(n.useContext)(E).books;return e.length?r.a.createElement("section",{className:"books",style:{flexDirection:"column"}},r.a.createElement("h2",null,"All Doctors"),r.a.createElement(r.a.Fragment,null,e.map((function(e){var t=e.image,a=e.id,n=e.name;return r.a.createElement("article",{key:a,className:"book"},r.a.createElement("div",{className:"book-image"},r.a.createElement("img",{src:t,alt:n})),r.a.createElement(g.b,{to:"/backend/doctors/".concat(a),className:"btn book-link"},"details"))})))):r.a.createElement("h3",null,"No Books Available")},x=a(11),N=r.a.createContext(),C=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(m.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(0),u=Object(m.a)(i,2),d=u[0],p=u[1];Object(n.useEffect)((function(){var e=Object(x.a)(l).reduce((function(e,t){return e+t.amount*t.price}),0);p(parseFloat(e.toFixed(2)))}),[l]);var b=function(e){var t=Object(x.a)(l).map((function(t){return t.id===e?Object(s.a)(Object(s.a)({},t),{},{amount:t.amount+1}):t}));o(t)};return r.a.createElement(N.Provider,{value:{cart:l,total:d,addToCart:function(e){var t=e.id,a=e.title,n=e.price,r=e.image;if(Object(x.a)(l).find((function(e){return e.id===t})))b(t);else{var c=[].concat(Object(x.a)(l),[{id:t,title:a,image:r,price:n,amount:1}]);o(c)}},increaseAmount:b,decreaseAmount:function(e,t){var a=[];a=1===t?Object(x.a)(l).filter((function(t){return t.id!==e})):Object(x.a)(l).map((function(t){return t.id===e?Object(s.a)(Object(s.a)({},t),{},{amount:t.amount-1}):t})),o(a)},clearCart:function(){o([])}}},t)},S=a(125),D=function(){var e=Object(h.g)(),t=Object(n.useContext)(N),a=t.cart,c=t.total,l=t.increaseAmount,o=t.decreaseAmount;return a.length?r.a.createElement("section",{className:"cart"},r.a.createElement("header",null,r.a.createElement("h2",null,"My Cart")),r.a.createElement("div",{className:"cart-wrapper"},a.map((function(e){var t=e.id,a=e.title,n=e.price,c=e.image,i=e.amount;return r.a.createElement("article",{key:t,className:"cart-item"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:c,alt:"cart item"})),r.a.createElement("div",{className:"details"},r.a.createElement("p",null,a),r.a.createElement("p",null,"$ ",n)),r.a.createElement("div",{className:"amount"},r.a.createElement("button",{onClick:function(){return l(t)}},r.a.createElement(S.b,null)),r.a.createElement("p",null,i),r.a.createElement("button",{onClick:function(){return o(t,i)}},r.a.createElement(S.a,null))))}))),r.a.createElement("div",null,r.a.createElement("h3",null,"Total: $ ",c)),r.a.createElement("div",null,r.a.createElement("button",{className:"btn",onClick:function(){return e.push("/backend/checkout")}},"Checkout"))):r.a.createElement("h3",null,"Empty Cart")},A=a(236),F=a(71),T={style:{base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},I=function(){var e=Object(n.useContext)(N),t=e.cart,a=e.total,c=(e.clearCart,Object(n.useContext)(E).checkout),l=Object(n.useState)({cart:t,total:a,address:null,token:null}),o=Object(m.a)(l,2),d=o[0],p=o[1],b=Object(n.useState)(null),f=Object(m.a)(b,2),g=f[0],v=f[1],k=Object(F.useStripe)(),O=Object(F.useElements)();Object(h.g)();Object(n.useEffect)((function(){d.token&&c(d)}),[d]);var y=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=O.getElement(F.CardElement),e.next=4,k.createToken(a);case 4:(n=e.sent).error?v(n.error.message):(v(null),r=n.token,p(Object(s.a)(Object(s.a)({},d),{},{token:r.id})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:y},r.a.createElement("div",{className:"checkout-form"},r.a.createElement("label",{htmlFor:"checkout-address"},"Shipping Address"),r.a.createElement("input",{id:"checkout-address",type:"text",onChange:function(e){return p(Object(s.a)(Object(s.a)({},d),{},{address:e.target.value}))}}),r.a.createElement("div",{className:"stripe-section"},r.a.createElement("label",{htmlFor:"stripe-element"}," Credit or debit card "),r.a.createElement(F.CardElement,{id:"stripe-element",options:T,onChange:function(e){e.error?v(e.error.message):v(null)}})),r.a.createElement("div",{className:"card-errors",role:"alert"},g)),r.a.createElement("button",{type:"submit",className:"btn"},"Submit Payment"))},L=function(){var e=Object(A.a)("pk_test_51J6sA8SI2jhom7ITqaqa5Mf40NoYh1WfCnjDZDGbuR2H53yKD6NXDiPuFqurpLlboiNojsQ2emD4GV1rUKAqbrps001NNGr7k6");return r.a.createElement("section",{className:"checkout-wrapper"},r.a.createElement(F.Elements,{stripe:e},r.a.createElement("section",null,r.a.createElement("h2",null,"Time to Checkout?"),r.a.createElement(I,null))))},P=function(){var e=Object(h.h)().id,t=Object(h.g)(),a=Object(n.useContext)(E).books,c=Object(n.useContext)(N).addToCart,l=a.find((function(t){return t.id===e}));if(!l)return r.a.createElement("h3",null,"Loading...");var o=l.image,i=l.name,u=l.experience,m=l.speciality,d=l.price;return r.a.createElement("section",{className:"book-details"},r.a.createElement("div",{className:"detail-image"},r.a.createElement("img",{src:o,alt:"image"})),r.a.createElement("div",{className:"detail-description",style:{backgroundColor:"white",textAlign:"left"}},r.a.createElement("div",{style:{display:"flex",width:"100%",flexDirection:"row",backgroundColor:"yellow",padding:2}},r.a.createElement("div",{style:{backgroundColor:"white",textAlign:"justify",width:"100%",paddingLeft:20}},r.a.createElement("h3",null,"Name:"),r.a.createElement("h3",null,"Experience:"),r.a.createElement("h3",null,"Speciality:")),r.a.createElement("div",{style:{backgroundColor:"white",textAlign:"justify",width:"100%"}},r.a.createElement("h3",null,"Dr. ",i),r.a.createElement("h3",null,u),r.a.createElement("h3",null,m))),r.a.createElement("h4",null,"Price:\xa0\xa0  \u20b9",d),r.a.createElement("button",{className:"btn",onClick:function(){c(Object(s.a)(Object(s.a)({},l),{},{id:e})),t.push("/backend/cart")}},r.a.createElement("h4",null,"Add to Cart"))))},M=a(495),q=O.aws_user_files_s3_bucket_region,z=O.aws_user_files_s3_bucket,$=function(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),c=a[0],l=a[1],o=(new Date,Object(n.useState)({id:e.user.attributes.sub,name:e.user.attributes.name,experience:"",image:"",speciality:"",featured:!0,price:100})),E=Object(m.a)(o,2),f=E[0],g=E[1],h=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,f.price){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,d.a.graphql(Object(p.b)("\n  mutation CreateDoctor(\n    $input: CreateDoctorInput!\n    $condition: ModelDoctorConditionInput\n  ) {\n    createDoctor(input: $input, condition: $condition) {\n      id\n      name\n      experience\n      image\n      speciality\n      featured\n      price\n      orders {\n        items {\n          id\n          doctor_id\n          order_id\n          createdAt\n          updatedAt\n          customer\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n",{input:f}));case 6:g({id:"",name:"",experience:"",image:"",speciality:"",featured:!0,price:100}),console.log(f),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("error creating updatedoctor:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n,r,c,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.files[0],n=a.name.split(".")[1],r=a.name.split(".")[0],c="images/".concat(Object(b.a)()).concat(r,".").concat(n),o="https://".concat(z,".s3.").concat(q,".amazonaws.com/public/").concat(c),e.prev=6,e.next=9,M.a.put(c,a,{level:"public",contentType:a.type});case 9:return e.next=11,M.a.get(c,{level:"public"});case 11:u=e.sent,l(u),g(Object(s.a)(Object(s.a)({},f),{},{image:o})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"admin-wrapper"},r.a.createElement("section",null,r.a.createElement("header",{className:"form-header",style:{marginTop:-50}},r.a.createElement("h3",null,"Update Doctor Profile")),r.a.createElement("form",{className:"form-wrapper",onSubmit:h},r.a.createElement("div",{style:{flexDirection:"column",width:"100%",textAlign:"Left",marginLeft:"50%"}},r.a.createElement("div",{style:{fontSize:20}},"Name: Dr.",e.user.attributes.name),r.a.createElement("div",{style:{fontSize:20}},"ID: ",e.user.attributes.sub)),r.a.createElement("div",{className:"form-image"},c?r.a.createElement("img",{className:"image-preview",src:c,alt:""}):r.a.createElement("input",{type:"file",accept:"image/jpg",onChange:function(e){return v(e)}})),r.a.createElement("div",{className:"form-fields"},r.a.createElement("div",{className:"title-form"},r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"experience"},"Experience")),r.a.createElement("p",null,r.a.createElement("input",{name:"email",type:"title",placeholder:"Type the experience",onChange:function(e){return g(Object(s.a)(Object(s.a)({},f),{},{experience:e.target.value}))},required:!0}))),r.a.createElement("div",{className:"description-form"},r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"speciality"},"Speciality")),r.a.createElement("p",null,r.a.createElement("textarea",{name:"description",type:"number",rows:"8",placeholder:"Type the speciality in which fields",onChange:function(e){return g(Object(s.a)(Object(s.a)({},f),{},{speciality:e.target.value}))},required:!0}))),r.a.createElement("div",{className:"price-form"},r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"price"},"Price (\u20b9)"),r.a.createElement("input",{name:"price",type:"text",placeholder:"What is the Price of one booking (INR)",onChange:function(e){console.log(e.target.value),/[^0-9]/g.test(e.target.value)?(g(Object(s.a)(Object(s.a)({},f),{},{price:1e3})),e.target.value=e.target.value.slice(0,-1),console.log("Not a number")):g(Object(s.a)(Object(s.a)({},f),{},{price:e.target.value}))},required:!0}))),r.a.createElement("div",{className:"featured-form"},r.a.createElement("p",null,r.a.createElement("label",null,"Featured?"),r.a.createElement("input",{type:"checkbox",className:"featured-checkbox",checked:f.featured,onChange:function(){g(Object(s.a)(Object(s.a)({},f),{},{featured:!f.featured}))}}))),r.a.createElement("div",{className:"submit-form"},r.a.createElement("button",{className:"btn",type:"submit"},"Submit"))))))},R=a(218),B=a(239),U=a.n(B),H=a(240),G=a.n(H),J=function(e){return console.log(e.user),r.a.createElement("header",{className:"main-head"},r.a.createElement("nav",null,r.a.createElement("div",{id:"logo",style:{display:"flex",justifyContent:"space-around",alignItems:"center",flexDirection:"row"}},r.a.createElement("a",{href:"https://amitacare.github.io/source/"},r.a.createElement("img",{src:"https://www.amitacare.com/wp-content/uploads/2021/10/cropped-image-144x66.png",style:{backgroundColor:"red",paddingLeft:10},alt:"logo"})),r.a.createElement("h2",{style:{marginLeft:10,color:"black",fontSize:20,backgroundColor:"white",padding:10}},"Book an Appointment")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.b,{to:"/backend/",style:{display:"flex",flexDirection:"row"}},r.a.createElement(U.a,{fontSize:"inherit",style:{fontSize:28}}),r.a.createElement("p",null,"Home"))),r.a.createElement("li",null,r.a.createElement(g.b,{to:"/backend/cart",style:{display:"flex",flexDirection:"row"}},r.a.createElement(G.a,{fontSize:"inherit",style:{fontSize:28}}),r.a.createElement("p",null,"Cart"))),r.a.createElement(k.b,{onClick:e.signOut,style:{backgroundColor:"#5546b8",padding:10,color:"white",borderRadius:15,paddingLeft:20,paddingRight:20,marginBottom:5,width:"auto",fontSize:20}},"Sign out"))))};v.a.configure(O),R.a.putVocabulariesForLanguage("en",{"Sign In":"Log in","Sign in":"Log in","Sign in to your account":"Welcome Back!",Email:"Enter your email",Password:"Enter  password (at least 8 characters)","Forgot your password?":"Forgot Password? Reset","Phone Number":"Enter 10 digit mobile number","Reset your password":"Forgot your password?","Enter your email":"Enter your Email id","Send code":"Reset my password","Back to Sign In":"Back to Login"});var W=function(){var e=!1;return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null),r.a.createElement(k.a,{initialState:"signIn",signUpAttributes:["birthdate","email","gender","locale","name","custom:phone","picture","updated_at","zoneinfo"],components:{SignUp:{FormFields:function(){var t=Object(k.e)().validationErrors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a.SignUp.FormFields,null),r.a.createElement(k.d,{defaultCountryCode:"+91",label:"Phone",labelHidden:!1,placeholder:"10 digit Mobile Number",name:"custom:phone",isRequired:!0,errorMessage:"Mobile Number must be 10 digits",onChange:function(t){e=!(10===t.target.value.length&&!/[^0-9]/g.test(t.target.value))},hasError:e}),r.a.createElement(k.c,{errorMessage:t.acknowledgement,hasError:!!t.acknowledgement,name:"acknowledgement",value:"yes",label:"I agree with the Terms & Conditions"}))}}},services:{validateCustomSignUp:function(e){return Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.acknowledgement){t.next=2;break}return t.abrupt("return",{acknowledgement:"You must agree to the Terms & Conditions"});case 2:case"end":return t.stop()}}),t)})))()}}},(function(e){var t=e.signOut,a=e.user;return r.a.createElement("main",null,r.a.createElement(g.a,null,r.a.createElement(J,{user:a,signOut:t}),r.a.createElement("h1",{style:{margin:15,marginBottom:50}},"Hello ",a.attributes.name,"!"),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/backend/"},r.a.createElement(j,null)),r.a.createElement(h.b,{path:"/backend/cart"},r.a.createElement(D,null)),r.a.createElement(h.b,{path:"/backend/checkout"},r.a.createElement(L,null)),r.a.createElement(h.b,{exact:!0,path:"/backend/doctors"},r.a.createElement(_,null)),r.a.createElement(h.b,{path:"/backend/doctors/:id",children:r.a.createElement(P,null)}),r.a.createElement(h.b,{path:"/backend/admin"},r.a.createElement($,{user:a})),r.a.createElement(h.b,{path:"/backend/update_doctor"},r.a.createElement($,{user:a})),r.a.createElement(h.b,{path:"/"},r.a.createElement(h.a,{to:"/backend"})),r.a.createElement(h.b,{path:"*"},r.a.createElement(w,null)))))})))};a(474);l.a.render(r.a.createElement(f,null,r.a.createElement(C,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)))),document.getElementById("root"))}},[[252,1,2]]]);
//# sourceMappingURL=main.34c3f070.chunk.js.map